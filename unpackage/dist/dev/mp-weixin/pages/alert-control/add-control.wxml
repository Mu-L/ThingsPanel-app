<view class="tp-box tp-box-sizing tp-flex tp-flex-col"><view class="tp-panel tp-flex tp-flex-col tp-mg-l-r-30"><view class="tp-ipt-item tp-flex tp-flex-row tp-flex-j-l tp-flex-a-c tp-box-sizing tp-pd-t-b-25"><view>策略名称</view><input class="tp-flex-1 tp-mg-l-20" type="text" placeholder="请输入名称" placeholder-class="tp-plc" data-event-opts="{{[['input',[['__set_model',['','name','$event',[]]]]]]}}" value="{{name}}" bindinput="__e"/></view><view class="tp-ipt-item tp-flex tp-flex-row tp-flex-j-l tp-flex-a-c tp-box-sizing tp-pd-t-b-25"><view>策略描述</view><input class="tp-flex-1 tp-mg-l-20" type="text" placeholder="请输入策略描述" placeholder-class="tp-plc" data-event-opts="{{[['input',[['__set_model',['','describe','$event',[]]]]]]}}" value="{{describe}}" bindinput="__e"/></view><view class="tp-ipt-item tp-flex tp-flex-row tp-flex-j-l tp-flex-a-c tp-box-sizing tp-pd-t-b-25"><view>策略优先级</view><input class="tp-flex-1 tp-mg-l-20" type="text" placeholder="请输入策略优先级" placeholder-class="tp-plc" data-event-opts="{{[['input',[['__set_model',['','sort','$event',[]]]]]]}}" value="{{sort}}" bindinput="__e"/></view><view class="tp-ipt-item tp-flex tp-flex-row tp-flex-j-s tp-flex-a-c tp-box-sizing tp-pd-t-b-25"><view>策略类型</view><view data-event-opts="{{[['tap',[['tpaClType',['$event']]]]]}}" class="tp-flex-1 tp-flex tp-flex-row tp-flex-j-r tp-flex-a-c" bindtap="__e"><block wx:if="{{currentClType.name}}"><text class="tp-mg-r-10">{{currentClType.name}}</text></block><view class="iconfont iconjiantou1"></view></view></view></view><view class="tp-txt tp-box-sizing tp-mg-30">触发条件</view><view class="tp-panel tp-flex tp-flex-col tp-mg-l-r-30"><view class="tp-ipt-item tp-flex tp-flex-row tp-flex-j-s tp-flex-a-c tp-box-sizing tp-pd-t-b-25"><view>选择资产</view><view data-event-opts="{{[['tap',[['toSelectZcOne',['$event']]]]]}}" class="tp-flex-1 tp-flex tp-flex-row tp-flex-j-r tp-flex-a-c" bindtap="__e"><block wx:if="{{currentZcOne.name}}"><text class="tp-mg-r-10">{{currentZcOne.name}}</text></block><view class="iconfont iconjiantou1"></view></view></view><view class="tp-ipt-item tp-flex tp-flex-row tp-flex-j-s tp-flex-a-c tp-box-sizing tp-pd-t-b-25"><view>选择设备</view><view data-event-opts="{{[['tap',[['toSelectEqpOne',['$event']]]]]}}" class="tp-flex-1 tp-flex tp-flex-row tp-flex-j-r tp-flex-a-c" bindtap="__e"><block wx:if="{{currentEqpOne.name}}"><text class="tp-mg-r-10">{{currentEqpOne.name}}</text></block><view class="iconfont iconjiantou1"></view></view></view><view class="tp-ipt-item tp-flex tp-flex-row tp-flex-j-s tp-flex-a-c tp-box-sizing tp-pd-t-b-25"><view>选择设备属性</view><view data-event-opts="{{[['tap',[['toSelectEqpSx',['$event']]]]]}}" class="tp-flex-1 tp-flex tp-flex-row tp-flex-j-r tp-flex-a-c" bindtap="__e"><block wx:if="{{currentEqpSx.name}}"><text class="tp-mg-r-10">{{currentEqpSx.name}}</text></block><view class="iconfont iconjiantou1"></view></view></view><view class="tp-ipt-item-i tp-flex tp-flex-row tp-flex-j-s tp-flex-a-c tp-box-sizing tp-pd-t-b-25"><block wx:if="{{currentGx.name}}"><view data-event-opts="{{[['tap',[['toGxPopup',['$event']]]]]}}" class="tp-flex tp-flex-row tp-flex-j-c tp-flex-a-c" bindtap="__e">{{''+currentGx.name}}<image style="width:21rpx;height:21rpx;" src="/static/icon/up.png" class="_img"></image></view></block><block wx:else><view data-event-opts="{{[['tap',[['toGxPopup',['$event']]]]]}}" class="tp-flex tp-flex-row tp-flex-j-c tp-flex-a-c" bindtap="__e">选择关系<image style="width:21rpx;height:21rpx;" src="/static/icon/up.png" class="_img"></image></view></block><view class="tp-flex tp-flex-row tp-flex-j-c tp-flex-a-c">—</view><view class="tp-flex tp-flex-row tp-flex-j-c tp-flex-a-c"><input type="number" placeholder="输入值" placeholder-class="tp-plc-i" maxlength="{{6}}" data-event-opts="{{[['input',[['__set_model',['','warningNum','$event',[]]]]]]}}" value="{{warningNum}}" bindinput="__e"/></view></view></view><view class="tp-txt tp-box-sizing tp-mg-30">控制指令</view><view class="tp-panel tp-flex tp-flex-col tp-mg-l-r-30"><view class="tp-ipt-item tp-flex tp-flex-row tp-flex-j-s tp-flex-a-c tp-box-sizing tp-pd-t-b-25"><view>选择资产</view><view data-event-opts="{{[['tap',[['toSelectZcTwo',['$event']]]]]}}" class="tp-flex-1 tp-flex tp-flex-row tp-flex-j-r tp-flex-a-c" bindtap="__e"><block wx:if="{{currentZcTwo.name}}"><text class="tp-mg-r-10">{{currentZcTwo.name}}</text></block><view class="iconfont iconjiantou1"></view></view></view><view class="tp-ipt-item tp-flex tp-flex-row tp-flex-j-s tp-flex-a-c tp-box-sizing tp-pd-t-b-25"><view>选择设备</view><view data-event-opts="{{[['tap',[['toSelectEqpTwo',['$event']]]]]}}" class="tp-flex-1 tp-flex tp-flex-row tp-flex-j-r tp-flex-a-c" bindtap="__e"><block wx:if="{{currentEqpTwo.name}}"><text class="tp-mg-r-10">{{currentEqpTwo.name}}</text></block><view class="iconfont iconjiantou1"></view></view></view><view class="tp-ipt-item tp-flex tp-flex-row tp-flex-j-s tp-flex-a-c tp-box-sizing tp-pd-t-b-25"><view>选择受控对象</view><view data-event-opts="{{[['tap',[['toSelectSkdx',['$event']]]]]}}" class="tp-flex-1 tp-flex tp-flex-row tp-flex-j-r tp-flex-a-c" bindtap="__e"><block wx:if="{{currentSkdx.name}}"><text class="tp-mg-r-10">{{currentSkdx.name}}</text></block><view class="iconfont iconjiantou1"></view></view></view><view class="switchBtn"><view class="on"><block wx:if="{{switchOnOne==1}}"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="onIcon" bindtap="__e"></view></block><block wx:else><view data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" class="closeIcon" bindtap="__e"><view class="closeIconL"></view></view></block><view style="font-style:normal;" class="_i">开</view></view><view class="close"><block wx:if="{{switchCloseOne==0}}"><view data-event-opts="{{[['tap',[['e2',['$event']]]]]}}" class="closeIcon" bindtap="__e"><view class="closeIconL"></view></view></block><block wx:else><view data-event-opts="{{[['tap',[['e3',['$event']]]]]}}" class="onIcon" bindtap="__e"></view></block>关</view></view></view><view class="tp-txt tp-box-sizing tp-mg-30"></view><view class="tp-panel tp-flex tp-flex-col tp-mg-l-r-30"><view class="tp-flex tp-flex-row tp-flex-j-s tp-flex-a-c tp-box-sizing tp-pd-t-b-25"><view style="font-weight:bold;">策略状态</view><view class="tp-flex-1 tp-flex tp-flex-row tp-flex-j-r tp-flex-a-c"><view class="switchBtn"><view class="on"><block wx:if="{{switchOnTwo==1}}"><view data-event-opts="{{[['tap',[['e4',['$event']]]]]}}" class="onIcon" bindtap="__e"></view></block><block wx:else><view data-event-opts="{{[['tap',[['e5',['$event']]]]]}}" class="closeIcon" bindtap="__e"><view class="closeIconL"></view></view></block><view style="font-style:normal;" class="_i">开</view></view><view class="close"><block wx:if="{{switchCloseTwo==0}}"><view data-event-opts="{{[['tap',[['e6',['$event']]]]]}}" class="closeIcon" bindtap="__e"><view class="closeIconL"></view></view></block><block wx:else><view data-event-opts="{{[['tap',[['e7',['$event']]]]]}}" class="onIcon" bindtap="__e"></view></block>关</view></view></view></view></view><view class="tp-box-sizing tp-mg-l-r-30"><button class="{{['tp-btn',(disabled)?'vc-btn-disabled':'']}}" style="margin-bottom:118rpx;" loading="{{loading}}" data-event-opts="{{[['tap',[['doUpdateSubmit',['$event']]]]]}}" bindtap="__e">保
			存</button></view><uni-popup class="vue-ref" vue-id="4d4a4e41-1" type="bottom" data-ref="epqPopupOne" bind:__l="__l" vue-slots="{{['default']}}"><scroll-view style="{{'max-height:'+('700rpx')+';'+('background:'+('#fff')+';')}}" scroll-y="{{true}}" scroll-with-animation="true"><view class="selectlist"><block wx:for="{{epqListOne}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['comfirEqpOne',['$0'],[[['epqListOne','',index]]]]]]]}}" class="select_item" bindtap="__e">{{''+item.name+''}}</view></block></view></scroll-view></uni-popup><uni-popup class="vue-ref" vue-id="4d4a4e41-2" type="bottom" data-ref="epqPopupTwo" bind:__l="__l" vue-slots="{{['default']}}"><scroll-view style="{{'max-height:'+('700rpx')+';'+('background:'+('#fff')+';')}}" scroll-y="{{true}}" scroll-with-animation="true"><view class="selectlist"><block wx:for="{{epqList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['comfirEqpTwo',['$0'],[[['epqList','',index]]]]]]]}}" class="select_item" bindtap="__e">{{''+item.name+''}}</view></block></view></scroll-view></uni-popup><uni-popup class="vue-ref" vue-id="4d4a4e41-3" type="bottom" data-ref="gxPopup" bind:__l="__l" vue-slots="{{['default']}}"><scroll-view style="{{'max-height:'+('700rpx')+';'+('background:'+('#fff')+';')}}" scroll-y="{{true}}" scroll-with-animation="true"><view class="selectlist"><block wx:for="{{gxList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['confirmGx',['$0'],[[['gxList','',index]]]]]]]}}" class="select_item" bindtap="__e">{{''+item.name+''}}</view></block></view></scroll-view></uni-popup><uni-popup class="vue-ref" vue-id="4d4a4e41-4" type="bottom" data-ref="clTypePopup" bind:__l="__l" vue-slots="{{['default']}}"><scroll-view style="{{'max-height:'+('700rpx')+';'+('background:'+('#fff')+';')}}" scroll-y="{{true}}" scroll-with-animation="true"><view class="selectlist"><block wx:for="{{clTypeList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['confirmClType',['$0'],[[['clTypeList','',index]]]]]]]}}" class="select_item" bindtap="__e">{{''+item.name+''}}</view></block></view></scroll-view></uni-popup><uni-popup class="vue-ref" vue-id="4d4a4e41-5" type="bottom" data-ref="zcPopupOne" bind:__l="__l" vue-slots="{{['default']}}"><scroll-view style="{{'max-height:'+('700rpx')+';'+('background:'+('#fff')+';')}}" scroll-y="{{true}}" scroll-with-animation="true"><view class="selectlist"><block wx:for="{{zcList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['confirmZcOne',['$0'],[[['zcList','',index]]]]]]]}}" class="select_item" bindtap="__e">{{''+item.name+''}}</view></block></view></scroll-view></uni-popup><uni-popup class="vue-ref" vue-id="4d4a4e41-6" type="bottom" data-ref="zcPopupTwo" bind:__l="__l" vue-slots="{{['default']}}"><scroll-view style="{{'max-height:'+('700rpx')+';'+('background:'+('#fff')+';')}}" scroll-y="{{true}}" scroll-with-animation="true"><view class="selectlist"><block wx:for="{{zcList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['confirmZcTwo',['$0'],[[['zcList','',index]]]]]]]}}" class="select_item" bindtap="__e">{{''+item.name+''}}</view></block></view></scroll-view></uni-popup><uni-popup class="vue-ref" vue-id="4d4a4e41-7" type="bottom" data-ref="skdxPopup" bind:__l="__l" vue-slots="{{['default']}}"><scroll-view style="{{'max-height:'+('700rpx')+';'+('background:'+('#fff')+';')}}" scroll-y="{{true}}" scroll-with-animation="true"><view class="selectlist"><block wx:for="{{eqpSxListTwo}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['confirmSkdx',['$0'],[[['eqpSxListTwo','',index]]]]]]]}}" class="select_item" bindtap="__e">{{''+item.name+''}}</view></block></view></scroll-view></uni-popup><uni-popup class="vue-ref" vue-id="4d4a4e41-8" type="bottom" data-ref="eqpSxPopup" bind:__l="__l" vue-slots="{{['default']}}"><scroll-view style="{{'max-height:'+('700rpx')+';'+('background:'+('#fff')+';')}}" scroll-y="{{true}}" scroll-with-animation="true"><view class="selectlist"><block wx:for="{{eqpSxList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['confirmEqpSx',['$0'],[[['eqpSxList','',index]]]]]]]}}" class="select_item" bindtap="__e">{{''+item.name+''}}</view></block></view></scroll-view></uni-popup><cys-toast class="vue-ref" vue-id="4d4a4e41-9" msg="{{toast.msg}}" direction="{{row}}" location="top" data-ref="toast" bind:__l="__l"></cys-toast></view>